# 质量检查清单 (QA Checklist)

## 功能检查

### 1. 页面加载
- [ ] 首页 (/) 正常加载
- [ ] 病因页面 (/etiology) 正常加载
- [ ] 药物页面 (/medication) 正常加载
- [ ] 康复页面 (/rehabilitation) 正常加载
- [ ] 404页面正常显示(访问不存在的路径)

### 2. 导航功能
- [ ] 桌面导航:4个链接可点击,跳转正确
- [ ] 桌面导航:当前页面链接有蓝色下划线高亮
- [ ] 移动导航:汉堡菜单图标可见(宽度<768px)
- [ ] 移动导航:点击汉堡菜单,侧边栏正确展开
- [ ] 移动导航:点击链接后,侧边栏自动关闭
- [ ] 移动导航:当前页面链接有蓝色背景高亮

### 3. 首页内容
- [ ] Hero区:标题"强直性脊柱炎康复指导"显示
- [ ] Hero区:简介文字显示
- [ ] Hero区:2个按钮("开始康复训练"、"了解病因机制")可点击
- [ ] 三大板块:3个卡片显示(病因、药物、康复)
- [ ] 三大板块:每个卡片有图标、标题、描述、"了解更多"链接
- [ ] 三大板块:点击卡片跳转到对应页面
- [ ] 快速统计:4个数据卡片显示(患病率、年龄、比例、阳性率)
- [ ] 疾病特征:典型症状列表显示
- [ ] 疾病特征:脊柱解剖对比图片显示

### 4. 病因页面内容
- [ ] 页面标题"强直性脊柱炎病因与发病机制"显示
- [ ] 5个主要章节全部显示(遗传、环境、免疫、炎症、进展)
- [ ] HLA-B27遗传因素图片显示
- [ ] 炎症通路图片显示
- [ ] 至少7个表格正确渲染:
  - [ ] 不同族群HLA-B27携带率对比表
  - [ ] AS肠道微生物群多样性Meta分析表
  - [ ] 环境触发因素与证据强度表
  - [ ] 免疫细胞异常汇总表
  - [ ] 关键炎症分子与治疗靶点表
  - [ ] 炎症-骨化时间线表
  - [ ] 其他相关表格

### 5. 药物页面内容
- [ ] 页面标题"强直性脊柱炎药物治疗方案"显示
- [ ] 核心结论与策略要点(8条)显示
- [ ] NSAIDs章节:常用药物表格显示
- [ ] TNF抑制剂章节:TNF抑制剂机制图片显示
- [ ] TNF抑制剂章节:5种药物疗效数据表显示
- [ ] IL-17抑制剂章节:疗效数据表显示
- [ ] 治疗算法章节:治疗阶梯表显示
- [ ] 安全性管理章节:监测要点表显示
- [ ] 特殊人群用药章节:内容完整

### 6. 康复页面内容
- [ ] 页面标题"强直性脊柱炎运动康复训练"显示
- [ ] 核心结论与建议(5条)显示
- [ ] 呼吸训练章节:
  - [ ] 呼吸训练图片显示
  - [ ] 呼吸训练视频显示
  - [ ] 呼吸训练处方表格显示
- [ ] 脊柱伸展章节:
  - [ ] 猫驼式图片显示
  - [ ] 脊柱伸展视频显示
  - [ ] 6个核心动作列表显示
  - [ ] 脊柱伸展训练处方表显示
- [ ] 姿势矫正章节:
  - [ ] 姿势矫正图片显示
  - [ ] 姿势矫正视频显示
  - [ ] 核心稳定训练处方表显示
- [ ] ROM训练章节:
  - [ ] 关节活动度图片显示
  - [ ] ROM训练视频显示
  - [ ] ROM训练处方表显示
- [ ] 水中运动章节:
  - [ ] 水疗图片显示
  - [ ] 水中运动视频显示
  - [ ] 有氧运动处方表显示
- [ ] 日常生活指导章节:
  - [ ] 生活方式图片显示
  - [ ] ADL建议表显示
- [ ] 运动禁忌章节:禁忌与注意事项表显示
- [ ] 12周处方章节:完整12周计划表显示

### 7. 图片功能(10张图片)
测试每张图片:
- [ ] aquatic_therapy.png 显示正常
- [ ] breathing_exercise.png 显示正常
- [ ] cat_camel_exercise.png 显示正常
- [ ] hla_b27_genetic_factor.png 显示正常
- [ ] inflammation_pathway.png 显示正常
- [ ] joint_mobility_exercise.png 显示正常
- [ ] lifestyle_guidance.png 显示正常
- [ ] posture_correction.png 显示正常
- [ ] spine_anatomy_comparison.png 显示正常
- [ ] tnf_inhibitor_mechanism.png 显示正常

点击放大功能(随机测试5张图片):
- [ ] 点击图片,全屏放大视图打开
- [ ] 放大视图中图片清晰
- [ ] 点击背景或按ESC键,放大视图关闭
- [ ] 关闭后回到原页面位置

### 8. 视频功能(5个视频)
测试每个视频:
- [ ] aquatic_therapy_session.mp4 加载并显示poster
- [ ] breathing_therapy_demo.mp4 加载并显示poster
- [ ] joint_mobility_training.mp4 加载并显示poster
- [ ] posture_correction_training.mp4 加载并显示poster
- [ ] spinal_extension_exercise.mp4 加载并显示poster

视频控制(随机测试3个视频):
- [ ] 点击播放按钮,视频开始播放
- [ ] 点击暂停按钮,视频暂停
- [ ] 按空格键,视频播放/暂停切换
- [ ] 拖拽进度条,视频跳转到对应位置
- [ ] 点击倍速按钮,可选择0.5x、0.75x、1x、1.25x、1.5x、2x
- [ ] 切换倍速,视频播放速度改变
- [ ] 点击音量按钮,可调节音量或静音
- [ ] 点击全屏按钮,视频全屏播放
- [ ] 全屏时按ESC键,退出全屏

### 9. 页脚功能
- [ ] 页脚3列显示(关于本站、快速导航、医学免责声明)
- [ ] "快速导航"3个链接可点击,跳转正确
- [ ] 版权信息显示当前年份
- [ ] 移动端页脚垂直堆叠

## 响应式设计检查

### 10. 桌面(宽度>1024px)
- [ ] 导航栏:水平布局,Logo在左,链接在右
- [ ] 首页三大板块:3列网格
- [ ] 首页统计数据:4列网格
- [ ] 内容区:8列居中布局(66.7%宽度)
- [ ] 表格:正常显示,无横向滚动

### 11. 平板(宽度768-1024px)
- [ ] 导航栏:水平布局保持
- [ ] 首页三大板块:可能为2列或3列
- [ ] 首页统计数据:2列网格
- [ ] 内容区:适当宽度
- [ ] 表格:可能需要横向滚动

### 12. 手机(<768px)
- [ ] 导航栏:汉堡菜单图标显示
- [ ] 首页三大板块:1列垂直堆叠
- [ ] 首页统计数据:2列网格或1列垂直堆叠
- [ ] 内容区:全宽或近全宽
- [ ] 表格:横向滚动容器
- [ ] 图片:自适应宽度
- [ ] 视频:自适应宽度,保持16:9比例
- [ ] 按钮:高度≥44px,易于触摸

### 13. 触摸目标(移动端)
- [ ] 所有按钮≥44×44px
- [ ] 导航链接间距≥8px
- [ ] 表格行高适中,易于点击
- [ ] 视频控制条按钮易于触摸

## SEO检查

### 14. 元数据
- [ ] 首页title: "强直性脊柱炎康复指导"
- [ ] 病因页title: "病因与发病机制 | 强直性脊柱炎康复指导"
- [ ] 药物页title: "药物治疗方案 | 强直性脊柱炎康复指导"
- [ ] 康复页title: "运动康复训练 | 强直性脊柱炎康复指导"
- [ ] 每页description独立且描述准确

### 15. Open Graph
使用Chrome DevTools或 https://www.opengraph.xyz/ 检查:
- [ ] og:title 正确
- [ ] og:description 正确
- [ ] og:image 设置(spine_anatomy_comparison.png)
- [ ] og:url 正确(部署后检查)
- [ ] og:type 为 "website"

### 16. Sitemap与Robots
- [ ] 访问 `/sitemap.xml`,显示4个URL
- [ ] Sitemap包含:/, /etiology, /medication, /rehabilitation
- [ ] 访问 `/robots.txt`,显示正确配置
- [ ] robots.txt允许所有爬虫(User-agent: *)
- [ ] robots.txt包含sitemap地址

### 17. 结构化数据
使用 https://search.google.com/test/rich-results 测试:
- [ ] Schema.org MedicalWebPage类型
- [ ] name、description字段正确
- [ ] specialty为"Rheumatology"
- [ ] about字段包含MedicalCondition(强直性脊柱炎)

### 18. 语义HTML
- [ ] 使用<header>、<nav>、<main>、<article>、<section>、<footer>
- [ ] 每页只有一个<h1>
- [ ] 标题层级正确(<h1>→<h2>→<h3>→<h4>)
- [ ] 列表使用<ul>、<ol>、<li>
- [ ] 表格使用<table>、<thead>、<tbody>、<tr>、<th>、<td>

## 性能检查

### 19. Lighthouse测试
使用Chrome DevTools → Lighthouse运行测试:
- [ ] Performance ≥90
- [ ] Accessibility ≥90
- [ ] Best Practices ≥90
- [ ] SEO ≥95

### 20. Core Web Vitals
- [ ] First Contentful Paint (FCP) <2秒
- [ ] Largest Contentful Paint (LCP) <2.5秒
- [ ] Total Blocking Time (TBT) <300ms
- [ ] Cumulative Layout Shift (CLS) <0.1

### 21. 图片优化
- [ ] 使用Next.js Image组件(自动优化)
- [ ] 浏览器加载WebP或AVIF格式(检查Network面板)
- [ ] 图片懒加载(首屏外图片延迟加载)
- [ ] 图片有明确的width和height,避免CLS

### 22. 视频优化
- [ ] 视频懒加载(loading="lazy")
- [ ] 视频有poster图片
- [ ] 视频不自动播放(节省带宽)

### 23. 字体优化
- [ ] 使用next/font/google加载Roboto Mono
- [ ] 字体swap或fallback策略
- [ ] 字体文件被缓存

### 24. 代码分割
- [ ] 每个页面独立bundle(查看构建输出)
- [ ] 共享代码提取到shared chunks
- [ ] 动态导入的组件单独打包

## 无障碍检查

### 25. 键盘导航
- [ ] 按Tab键,焦点按逻辑顺序移动
- [ ] 焦点可见(蓝色轮廓或其他视觉指示)
- [ ] 按Enter键可激活链接和按钮
- [ ] 汉堡菜单可用Tab键访问并用Enter打开
- [ ] 图片放大视图可用ESC键关闭
- [ ] 视频可用空格键播放/暂停

### 26. 屏幕阅读器
使用NVDA(Windows)或VoiceOver(macOS)测试:
- [ ] 页面标题被正确朗读
- [ ] 所有图片的alt文本被朗读
- [ ] 按钮和链接的作用被清晰描述
- [ ] 表格标题(<th>)被识别为表头
- [ ] 导航菜单被识别为导航区域

### 27. 颜色对比度
使用Chrome DevTools Color Picker检查:
- [ ] 主色(#0277BD)与白色背景对比度≥4.5:1
- [ ] 正文色(#333333)与白色背景对比度≥7:1
- [ ] 链接色(#0277BD)与白色背景对比度≥4.5:1
- [ ] 错误色(#D32F2F)与白色背景对比度≥4.5:1

### 28. 表单无障碍(如果有)
- [ ] 所有输入框有关联的<label>
- [ ] 必填字段有视觉和语义标识
- [ ] 错误提示清晰且与输入框关联

### 29. 减少动画模式
- [ ] CSS中设置了prefers-reduced-motion查询
- [ ] 用户启用减少动画时,动画时长<0.01ms
- [ ] 测试:在系统设置中启用"减少动画",刷新页面,确认动画被禁用

## 设计规范符合度

### 30. 字体
- [ ] 全局使用Roboto Mono等宽字体
- [ ] 标题字重:700(Display、h2)、600(h3、h4)
- [ ] 正文字重:400
- [ ] 字号符合规范:Display(56px)、h2(40px)、h3(28px)、h4(20px)、body(16px)

### 31. 颜色
- [ ] 主色:#0277BD(蓝色)
- [ ] 中性色:黑(#000)、深灰(#333、#666)、浅灰(#CCC、#F5F5F5)、白(#FFF)
- [ ] 语义色:成功(#2E7D32)、警告(#ED6C02)、错误(#D32F2F)
- [ ] 95%页面使用中性色,5%使用医学蓝

### 32. 间距
- [ ] 元素间距遵循8px网格:8、16、24、32、48、64、96px
- [ ] 内边距(padding)符合规范
- [ ] 外边距(margin)符合规范

### 33. 圆角
- [ ] 按钮圆角:2px
- [ ] 卡片圆角:2px或0px(sharp)
- [ ] 表格、输入框圆角:0-2px

### 34. 阴影
- [ ] 卡片阴影:0 1px 3px rgba(0,0,0,0.12)或0 2px 6px rgba(0,0,0,0.16)
- [ ] 悬停时阴影增强
- [ ] 不过度使用阴影(保持极简风格)

### 35. 动画
- [ ] 所有过渡时长≤200ms
- [ ] 仅使用transform和opacity动画(性能优化)
- [ ] 悬停效果流畅

### 36. 栅格系统
- [ ] 桌面:12列栅格
- [ ] 平板:8列栅格
- [ ] 手机:4列栅格
- [ ] 内容区:8列居中(66.7%宽度)

## 浏览器兼容性

### 37. 主流浏览器
- [ ] Chrome(最新版本)
- [ ] Firefox(最新版本)
- [ ] Safari(最新版本)
- [ ] Edge(最新版本)

### 38. 移动浏览器
- [ ] iOS Safari(iPhone、iPad)
- [ ] Chrome Android

## 安全性

### 39. HTTPS
- [ ] 部署后网站强制HTTPS(Vercel自动)
- [ ] 无混合内容警告(http资源在https页面中)

### 40. Content Security Policy(可选)
- [ ] 如果配置了CSP,视频和图片仍可正常加载

## 内容准确性

### 41. 医学内容
- [ ] 病因页面:HLA-B27相关性数据准确
- [ ] 药物页面:TNF抑制剂、IL-17抑制剂疗效数据准确
- [ ] 康复页面:运动处方周期、频次准确

### 42. 免责声明
- [ ] 页脚包含医学免责声明
- [ ] 免责声明清晰可见
- [ ] 声明内容合理(仅供参考,不替代医疗建议)

## 部署后专项检查

### 43. 域名与URL
- [ ] 生产域名正确配置
- [ ] sitemap.xml中的URL使用生产域名
- [ ] robots.txt中的sitemap地址正确
- [ ] Open Graph的og:url使用生产域名

### 44. Analytics
- [ ] Vercel Analytics正常收集数据(部署24小时后检查)
- [ ] 如果配置了GA,Google Analytics正常接收数据

### 45. 错误监控
- [ ] 检查Vercel部署日志,无错误
- [ ] 检查浏览器控制台,无JavaScript错误
- [ ] 检查Network面板,无404或500错误

## 长期维护

### 46. 定期更新
- [ ] 每3-6个月审查医学内容,确保最新
- [ ] 每年更新依赖包(npm update)
- [ ] 关注Next.js版本更新

### 47. 用户反馈
- [ ] 建立用户反馈渠道(如GitHub Issues)
- [ ] 定期查看Analytics数据,了解用户行为
- [ ] 根据反馈优化内容和功能

---

## 检查统计

- **总检查项**: 47个类别,包含数百个具体检查点
- **建议检查频率**:
  - 首次部署前:全面检查所有项
  - 每次更新后:检查相关模块
  - 每月:抽查关键功能和性能
  - 每季度:全面复查

**通过标准**: 所有✅项至少95%通过,核心功能和安全项100%通过。
